{"version":3,"sources":["contexts/currentUser.js","components/Header.js","components/Card.js","utils/constants.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/PopupWithImage.js","utils/api.js","components/App.js","index.js","images/mesto-logo.svg"],"names":["CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","id","name","link","likes","owner","onClick","onLike","onDelete","currentUser","useContext","isLiked","length","find","like","_id","removeIconStyle","likeIconStyle","type","call","onError","evt","target","title","Main","handlersProfile","cards","handlersCard","avatar","setOpenEditAvatar","setOpenEditProfile","about","setOpenAddPlace","map","item","key","click","delete","Footer","PopupWithForm","isOpen","inputs","buttonText","onClose","onSubmit","buttonRef","useRef","popupStyle","currentTarget","autoComplete","preventDefault","ref","EditProfilePopup","useState","setName","setAbout","useEffect","required","minLength","maxLength","value","onChange","EditAvatarPopup","avatarInput","current","placeholder","AddPlacePopup","newName","setNewName","newSrc","setNewSrc","ConfirmDeletePopup","PopupWithImage","subtitle","api","url","token","this","_url","_token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_getResponseData","newAbout","body","JSON","stringify","newAvatar","cardName","cardLink","cardID","App","isEditProfileOpen","setEditProfileOpen","isAddPlaceOpen","setAddPlaceOpen","isEditAvatarOpen","setEditAvatarOpen","cardIdPrepareForRemove","setCardIdPrepareForRemove","selectedCard","setSelectedCard","setCurrentUser","all","getUserInfo","getCards","data","userInfo","setCards","catch","err","console","log","handleKeyPress","event","closeAllPopups","document","addEventListener","removeEventListener","mapNewCards","idCard","cardJSON","card","Provider","isAlreadyLike","removeLike","putLike","cardId","oldButtonCaption","textContent","updateUserInfo","cleanUp","updateUserAvatar","addNewCard","newCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.c6fa28e1.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\nimport logo from \"../images/mesto-logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header content-section\">\n      <img src={logo} alt=\"Место-Логотип\" className=\"header__logo\"/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\r\nimport { onErrorMockImage } from \"../utils/constants\";\r\nimport { CurrentUserContext } from \"../contexts/currentUser\";\r\n\r\nfunction Card({ id, name, link, likes, owner, onClick, onLike, onDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isLiked = !!(\r\n    likes.length !== 0 &&\r\n    likes.find((like) => {\r\n      return like._id === currentUser.id;\r\n    })\r\n  );\r\n\r\n  const removeIconStyle =\r\n    currentUser.id === owner._id\r\n      ? \"element__remove-icon  element__remove-icon_show\"\r\n      : \"element__remove-icon\";\r\n  const likeIconStyle = isLiked\r\n    ? \"element__like-icon element__like-icon_checked\"\r\n    : \"element__like-icon\";\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button type=\"button\" className={removeIconStyle} onClick={()=>{onDelete(id)}}></button>\r\n      <img\r\n        src={link}\r\n        alt=\"#\"\r\n        className=\"element__image\"\r\n        onClick={() => {\r\n          onClick.call(this, link, name);\r\n        }}\r\n        onError={(evt) => {\r\n          evt.target.src = onErrorMockImage;\r\n        }}\r\n      />\r\n      <div className=\"element__footer\">\r\n        <h2 className=\"element__title\" title={name}>\r\n          {name}\r\n        </h2>\r\n        <div className=\"element__like-block\">\r\n          <button\r\n            type=\"button\"\r\n            className={likeIconStyle}\r\n            onClick={() => {\r\n              onLike(isLiked, id);\r\n            }}\r\n          ></button>\r\n          <p className=\"element__like-couter\">{likes ? likes.length : 0}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export const onErrorMockImage = \"https://images.unsplash.com/photo-1458419948946-19fb2cc296af?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80\";\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\n\r\nimport { CurrentUserContext } from \"../contexts/currentUser\";\r\n\r\nfunction Main({ handlersProfile, cards, handlersCard }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile content-section\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Аватар\"\r\n            className=\"profile__avatar\"\r\n            onClick={() => handlersProfile.setOpenEditAvatar(true)}\r\n          />\r\n        </div>\r\n        <div className=\"profile__profile-info\">\r\n          <h2 className=\"profile__name\">{currentUser.name}</h2>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n            onClick={() => handlersProfile.setOpenEditProfile(true)}\r\n          />\r\n          <p className=\"profile__job\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={() => handlersProfile.setOpenAddPlace(true)}\r\n        />\r\n      </section>\r\n      <section className=\"elements content-section\">\r\n        <ul className=\"elements__img-grid\">\r\n          {cards.map(({ _id, ...item }) => (\r\n            <Card\r\n              key={_id}\r\n              id = {_id}\r\n              {...item}\r\n              onClick={handlersCard.click}\r\n              onLike={handlersCard.like}\r\n              onDelete={handlersCard.delete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer content-section\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, {useRef} from \"react\";\r\n\r\nfunction PopupWithForm({ isOpen, title, name, inputs, buttonText, onClose, onSubmit }) {\r\n  const buttonRef = useRef(null);\r\n\r\n  let popupStyle = `popup popup-${name}`;\r\n  if (isOpen) {\r\n    popupStyle += \" popup_opened\";\r\n  }\r\n\r\n  const handleSubmitForm = (evt) =>{\r\n    evt.preventDefault();\r\n\r\n    onSubmit(buttonRef);\r\n  }\r\n\r\n  const handleClosePopupByClickOutside = (evt) => {\r\n    if (evt.currentTarget === evt.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={popupStyle} onClick={handleClosePopupByClickOutside}>\r\n      <div className=\"popup__container popup__container_type_form\">\r\n        <button type=\"button\" className=\"popup__close-icon\" onClick={onClose} />\r\n        <p className=\"popup__title\">{title}</p>\r\n        <form\r\n          className=\"popup__form\"\r\n          autoComplete=\"off\"\r\n          onSubmit={handleSubmitForm}\r\n        >\r\n          {inputs}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"popup__submit-button\"\r\n            ref={buttonRef}\r\n          >\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/currentUser\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onSubmit }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  const [about, setAbout] = React.useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setAbout(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleEditProfileFormSubmit(buttonRef) {\r\n    onSubmit(name, about, buttonRef);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit\"\r\n      buttonText=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleEditProfileFormSubmit}\r\n      inputs={\r\n        <>\r\n          <label className=\"popup__form-label\">\r\n            <input\r\n              id=\"edit-form_name\"\r\n              name=\"edit-form_name\"\r\n              type=\"text\"\r\n              required\r\n              minLength={2}\r\n              maxLength={40}\r\n              className=\"popup__input-text edit-popup__input-text_type_name\"\r\n              value={name}\r\n              onChange={(evt) => setName(evt.target.value)}\r\n            />\r\n            <span id=\"edit-form_name-error\" className=\"popup__input-error\" />\r\n          </label>\r\n          <label className=\"popup__form-label\">\r\n            <input\r\n              id=\"edit-form_about\"\r\n              name=\"edit-form_about\"\r\n              type=\"text\"\r\n              required\r\n              minLength={2}\r\n              maxLength={200}\r\n              className=\"popup__input-text edit-popup__input-text_type_job\"\r\n              value={about}\r\n              onChange={(evt) => setAbout(evt.target.value)}\r\n            />\r\n            <span id=\"edit-form_about-error\" className=\"popup__input-error\" />\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onSubmit }) {\r\n  const avatarInput = useRef(null);\r\n\r\n  const handleEditAvatarFormSubmit = (buttonRef) => {\r\n    const cleanUp = () => {\r\n      avatarInput.current.value = \"\";\r\n    };\r\n    onSubmit(avatarInput.current.value, buttonRef, cleanUp);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      buttonText=\"Сохранить\"\r\n      onClose={onClose}\r\n      onSubmit={handleEditAvatarFormSubmit}\r\n      inputs={\r\n        <>\r\n          <label className=\"popup__form-label\">\r\n            <input\r\n              id=\"avatar-form_src\"\r\n              name=\"avatar-form_src\"\r\n              type=\"url\"\r\n              required\r\n              placeholder=\"Ссылка на аватар\"\r\n              className=\"popup__input-text avatar-form__input-text_type_src\"\r\n              ref={avatarInput}\r\n            />\r\n            <span id=\"avatar-form_src-error\" className=\"popup__input-error\" />\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onSubmit }) {\r\n  const [newName, setNewName] = React.useState(\"\");\r\n  const [newSrc, setNewSrc] = React.useState(\"\");\r\n\r\n\r\n  const handleAddPlaceFormSubmit = (buttonRef) => {\r\n    const cleanUp = () => {\r\n      setNewName(\"\");\r\n      setNewSrc(\"\");\r\n    };\r\n    onSubmit(newName, newSrc, buttonRef, cleanUp);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      title=\"Новое место\"\r\n      name=\"add\"\r\n      buttonText=\"Создать\"\r\n      onClose={onClose}\r\n      onSubmit={handleAddPlaceFormSubmit}\r\n      inputs={\r\n        <>\r\n          <label className=\"popup__form-label\">\r\n            <input\r\n              id=\"add-form_name\"\r\n              name=\"add-form_name\"\r\n              type=\"text\"\r\n              required\r\n              minLength={1}\r\n              maxLength={30}\r\n              placeholder=\"Название\"\r\n              className=\"popup__input-text add-form__input-text_type_name\"\r\n              value={newName}\r\n              onChange={(evt) => setNewName(evt.target.value)}\r\n            />\r\n            <span id=\"add-form_name-error\" className=\"popup__input-error\" />\r\n          </label>\r\n          <label className=\"popup__form-label\">\r\n            <input\r\n              id=\"add-form_src\"\r\n              name=\"add-form_src\"\r\n              type=\"url\"\r\n              required\r\n              placeholder=\"Ссылка на картинку\"\r\n              className=\"popup__input-text add-form__input-text_type_src\"\r\n              value={newSrc}\r\n              onChange={(evt) => setNewSrc(evt.target.value)}\r\n            />\r\n            <span id=\"add-form_src-error\" className=\"popup__input-error\" />\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, onSubmit }) {\r\n\r\n  const handleConfirmDeleteFormSubmit = (buttonRef) => {\r\n    onSubmit(buttonRef);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      title=\"Вы уверены?\"\r\n      name=\"delete-card\"\r\n      buttonText=\"Да\"\r\n      onClose={onClose}\r\n      onSubmit={handleConfirmDeleteFormSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmDeletePopup;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithImage({ isOpen, src, subtitle, onClose }) {\r\n  let popupStyle = `popup`;\r\n  if (isOpen) {\r\n    popupStyle += \" popup_opened\";\r\n  }\r\n\r\n  const handleClosePopupByClickOutside = (evt) => {\r\n    if (evt.currentTarget === evt.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={popupStyle} onClick={handleClosePopupByClickOutside}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img src={src} alt=\"#\" className=\"popup__image\" />\r\n        <p className=\"popup__img-subtitle\">{subtitle}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithImage;\r\n","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(this._url + \"users/me\", {\n      method: \"GET\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateUserInfo(newName, newAbout) {\n    return fetch(this._url + \"users/me\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: newName,\n        about: newAbout,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateUserAvatar(newAvatar) {\n    return fetch(this._url + \"users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: newAvatar,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getCards() {\n    return fetch(this._url + \"cards\", {\n      method: \"GET\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  addNewCard(cardName, cardLink) {\n    return fetch(this._url + \"cards\", {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: cardName,\n        link: cardLink,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardID) {\n    return fetch(this._url + \"cards/\" + cardID, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  putLike(cardID) {\n    return fetch(this._url + \"cards/likes/\" + cardID, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  removeLike(cardID) {\n    return fetch(this._url + \"cards/likes/\" + cardID, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n};\n\nconst api = new Api (\n  \"https://mesto.nomoreparties.co/v1/cohort-15/\",\n  \"00e3d586-abb9-483a-af25-8c5b37844ed8\"\n);\n\nexport default api;\n","import React, { useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/currentUser\";\r\n\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\n\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\r\n\r\nimport PopupWithImage from \"./PopupWithImage\";\r\n\r\nimport \"../index.css\";\r\nimport api from \"../utils/api\";\r\n\r\nfunction App() {\r\n  const [isEditProfileOpen, setEditProfileOpen] = useState(false);\r\n  const [isAddPlaceOpen, setAddPlaceOpen] = useState(false);\r\n  const [isEditAvatarOpen, setEditAvatarOpen] = useState(false);\r\n  const [cardIdPrepareForRemove, setCardIdPrepareForRemove] = useState(null);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    id: \"\",\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n\r\n  //First Init\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then((data) => {\r\n        const [userInfo, cards] = data;\r\n        setCards(cards);\r\n        setCurrentUser({\r\n          id: userInfo._id,\r\n          name: userInfo.name,\r\n          about: userInfo.about,\r\n          avatar: userInfo.avatar,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error on - First Init`);\r\n        console.log(`Error message - ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyPress);\r\n  }, [isEditProfileOpen, isAddPlaceOpen, isEditAvatarOpen, selectedCard]);\r\n\r\n  const closeAllPopups = () => {\r\n    setEditProfileOpen(false);\r\n    setAddPlaceOpen(false);\r\n    setEditAvatarOpen(false);\r\n\r\n    setCardIdPrepareForRemove(null);\r\n    setSelectedCard(null);\r\n\r\n    document.removeEventListener(\"keydown\", handleKeyPress);\r\n  };\r\n\r\n  //#region Cards and handlers\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const handeCardClick = (link, name) => {\r\n    setSelectedCard({\r\n      src: link,\r\n      subtitle: name,\r\n    });\r\n  };\r\n\r\n  const mapNewCards = (idCard, cardJSON) => {\r\n    setCards(\r\n      cards.map((card) => {\r\n        if (card._id === idCard) {\r\n          return { ...card, likes: cardJSON.likes };\r\n        }\r\n        return card;\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleCardLike = (isAlreadyLike, idCard) => {\r\n    if (!isAlreadyLike) {\r\n      api\r\n        .putLike(idCard)\r\n        .then((cardJSON) => {\r\n          mapNewCards(idCard, cardJSON);\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Error on - putLike`);\r\n          console.log(`Error message - ${err}`);\r\n        });\r\n    } else {\r\n      api\r\n        .removeLike(idCard)\r\n        .then((cardJSON) => {\r\n          mapNewCards(idCard, cardJSON);\r\n        })\r\n        .catch((err) => {\r\n          console.log(`Error on - removeLike`);\r\n          console.log(`Error message - ${err}`);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleCardDelete = (cardId) => {\r\n    setCardIdPrepareForRemove(cardId);\r\n  };\r\n  //#endregion\r\n\r\n  //#region Forms Submit Handlers\r\n  const handleUpdateUserProfile = (name, about, buttonRef) => {\r\n    const oldButtonCaption = buttonRef.current.textContent;\r\n    buttonRef.current.textContent = \"Сохраняю...\";\r\n    api\r\n      .updateUserInfo(name, about)\r\n      .then((userInfo) => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          name: userInfo.name,\r\n          about: userInfo.about,\r\n        });\r\n        buttonRef.current.textContent = oldButtonCaption;\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error on - handleUpdateUserProfile`);\r\n        console.log(`Error message - ${err}`);\r\n      });\r\n  };\r\n\r\n  const handleUpdateUserAvatar = (newAvatar, buttonRef, cleanUp) => {\r\n    const oldButtonCaption = buttonRef.current.textContent;\r\n    buttonRef.current.textContent = \"Сохраняю...\";\r\n    api\r\n      .updateUserAvatar(newAvatar)\r\n      .then((data) => {\r\n        setCurrentUser({ ...currentUser, avatar: data.avatar });\r\n        buttonRef.current.textContent = oldButtonCaption;\r\n        cleanUp();\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error on - handleUpdateUserAvatar`);\r\n        console.log(`Error message - ${err}`);\r\n      });\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (newName, newSrc, buttonRef, cleanUp) => {\r\n    const oldButtonCaption = buttonRef.current.textContent;\r\n    buttonRef.current.textContent = \"Создаю...\";\r\n    api\r\n      .addNewCard(newName, newSrc)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        buttonRef.current.textContent = oldButtonCaption;\r\n        cleanUp();\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error on - handleAddPlaceSubmit`);\r\n        console.log(`Error message - ${err}`);\r\n      });\r\n  };\r\n\r\n  const handleRemovePlaceSubmit = (buttonRef) => {\r\n    const oldButtonCaption = buttonRef.current.textContent;\r\n    buttonRef.current.textContent = \"Удаляю...\";\r\n    api\r\n      .deleteCard(cardIdPrepareForRemove)\r\n      .then(() => {\r\n        setCards(\r\n          cards.filter((card) => {\r\n            return card._id !== cardIdPrepareForRemove;\r\n          })\r\n        );\r\n        buttonRef.current.textContent = oldButtonCaption;\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Error on - handleRemovePlaceSubmit`);\r\n        console.log(`Error message - ${err}`);\r\n      });\r\n  };\r\n\r\n  //#endregion\r\n  return (\r\n    <div className=\"content\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main\r\n          cards={cards}\r\n          handlersProfile={{\r\n            setOpenEditProfile: setEditProfileOpen,\r\n            setOpenEditAvatar: setEditAvatarOpen,\r\n            setOpenAddPlace: setAddPlaceOpen,\r\n          }}\r\n          handlersCard={{\r\n            click: handeCardClick,\r\n            like: handleCardLike,\r\n            delete: handleCardDelete,\r\n          }}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfileOpen}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleUpdateUserProfile}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarOpen}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleUpdateUserAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlaceOpen}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleAddPlaceSubmit}\r\n        />\r\n        <ConfirmDeletePopup\r\n          isOpen={!!cardIdPrepareForRemove}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleRemovePlaceSubmit}\r\n        />\r\n        <PopupWithImage\r\n          isOpen={!!selectedCard}\r\n          {...selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/mesto-logo.855a8c98.svg\";"],"sourceRoot":""}