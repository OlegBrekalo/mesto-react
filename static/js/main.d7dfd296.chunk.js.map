{"version":3,"sources":["components/Header.js","components/Profile.js","components/Card.js","components/PopupWithForm.js","components/PopupWithImage.js","utils/Api.js","components/FormEditProfile.js","components/FormAddPlace.js","components/FormEditAvatar.js","components/Main.js","components/Footer.js","components/App.js","index.js","images/mesto-logo.svg"],"names":["Header","className","src","logo","alt","Profile","profile","avatar","openEditProfile","openAddPlace","openEditAvatar","onClick","name","type","about","Card","link","likes","onError","evt","target","title","length","PopupWithForm","isOpen","childForm","onClose","popupStyle","PopupWithImage","subtitle","api","url","token","this","_url","_token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_getResponseData","newName","newAbout","body","JSON","stringify","newAvatar","cardName","cardLink","cardID","FormEditProfile","setProfile","React","useState","setName","setAbout","useEffect","autoComplete","onSubmit","preventDefault","updateUserInfo","userInfo","catch","console","log","id","required","minLength","maxLength","value","onChange","FormAddPlace","cards","setCards","setNewName","newSrc","setNewSrc","addNewCard","newCard","placeholder","FormEditAvatar","setAvatar","setNewAvatar","updateUserAvatar","data","Main","isEditProfileOpen","setEditProfileOpen","isAddPlaceOpen","setAddPlaceOpen","isEditAvatarOpen","setEditAvatarOpen","isImageOpen","setImageOpen","selectedCard","setSelectedCard","all","getUserInfo","getCards","handleKeyPress","event","key","closeAllPopups","document","addEventListener","removeEventListener","handlerCardImageClick","parentNode","querySelector","textContent","onKeyDown","map","_id","item","addNewPlace","Footer","App","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d7dfd296.chunk.js","sourcesContent":["import React from \"react\";\nimport logo from \"../images/mesto-logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header content-section\">\n      <img src={logo} alt=\"Место-Логотип\" className=\"header__logo\"/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Profile({ profile, avatar, openEditProfile, openAddPlace, openEditAvatar}) {\n  return (\n    <section className=\"profile content-section\">\n      <div className=\"profile__avatar-wrapper\">\n        <img src={avatar} alt=\"Аватар\" className=\"profile__avatar\" onClick={()=> openEditAvatar(true)}/>\n      </div>\n      <div className=\"profile__profile-info\">\n        <h2 className=\"profile__name\">{profile.name}</h2>\n        <button\n          type=\"button\"\n          className=\"profile__edit-button\"\n          onClick={() => openEditProfile(true)}\n        />\n        <p className=\"profile__job\">{profile.about}</p>\n      </div>\n      <button\n        type=\"button\"\n        className=\"profile__add-button\"\n        onClick={() => openAddPlace(true)}\n      />\n    </section>\n  );\n}\n\nexport default Profile;\n","import React from \"react\";\n\nfunction Card({ name, link, likes, onClick }) {\n  return (\n    <li className=\"element\">\n      <button type=\"button\" className=\"element__remove-icon\"></button>\n      <img\n        src={link}\n        alt=\"#\"\n        className=\"element__image\"\n        onClick={onClick}\n        onError={(evt) => {\n          evt.target.src =\n            \"https://images.unsplash.com/photo-1458419948946-19fb2cc296af?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80\";\n        }}\n      />\n      <div className=\"element__footer\">\n        <h2 className=\"element__title\" title={name}>\n          {name}\n        </h2>\n        <div className=\"element__like-block\">\n          <button type=\"button\" className=\"element__like-icon\"></button>\n          <p className=\"element__like-couter\">{likes?likes.length:0}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\n\nfunction PopupWithForm({ isOpen, title, name, childForm, onClose}) {\n  let popupStyle = `popup popup-${name}`;\n  if (isOpen) {popupStyle += \" popup_opened\"}\n\n  return (\n    <div className={popupStyle} onClick={onClose}>\n      <div className=\"popup__container popup__container_type_form\">\n        <button type=\"button\" className=\"popup__close-icon\" onClick={onClose} />\n        <p className=\"popup__title\">{title}</p>\n        {childForm}\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\n\nfunction PopupWithImage({ isOpen, src, subtitle, onClose }) {\n  let popupStyle = `popup`;\n  if (isOpen) {\n    popupStyle += \" popup_opened\";\n  }\n\n  return (\n    <div className={popupStyle} onClick={onClose}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__close-icon\"\n          onClick={onClose}\n        ></button>\n        <img src={src} alt=\"#\" className=\"popup__image\" />\n        <p className=\"popup__img-subtitle\">{subtitle}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;\n","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(this._url + \"users/me\", {\n      method: \"GET\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateUserInfo(newName, newAbout) {\n    return fetch(this._url + \"users/me\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: newName,\n        about: newAbout,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateUserAvatar(newAvatar) {\n    return fetch(this._url + \"users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: newAvatar,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getCards() {\n    return fetch(this._url + \"cards\", {\n      method: \"GET\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  addNewCard(cardName, cardLink) {\n    return fetch(this._url + \"cards\", {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: cardName,\n        link: cardLink,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardID) {\n    return fetch(this._url + \"cards/\" + cardID, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  putLike(cardID) {\n    return fetch(this._url + \"cards/likes/\" + cardID, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  removeLike(cardID) {\n    return fetch(this._url + \"cards/likes/\" + cardID, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n};\n\nconst api = new Api (\n  \"https://mesto.nomoreparties.co/v1/cohort-15/\",\n  \"00e3d586-abb9-483a-af25-8c5b37844ed8\"\n);\n\nexport default api;\n","import React, { useEffect } from \"react\";\nimport api from \"../utils/Api\";\n\nfunction FormEditProfile({ profile, setProfile, onClose }) {\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  useEffect(() => {\n    setName(profile.name);\n    setAbout(profile.about);\n  }, [profile]);\n\n  const handleSubmit = (evt) =>{\n    evt.preventDefault();\n    api\n      .updateUserInfo(name, about)\n      .then((userInfo) => {\n        setProfile({ name: userInfo.name, about: userInfo.about });\n        onClose();\n      })\n      .catch(() => {\n        console.log(\"ERROR\");\n      });\n  };\n\n  return (\n    <form className=\"popup__form\" autoComplete=\"off\" onSubmit={handleSubmit}>\n      <label className=\"popup__form-label\">\n        <input\n          id=\"edit-form_name\"\n          name=\"edit-form_name\"\n          type=\"text\"\n          required\n          minLength={2}\n          maxLength={40}\n          className=\"popup__input-text edit-popup__input-text_type_name\"\n          value={name}\n          onChange={(evt) => setName(evt.target.value)}\n        />\n        <span id=\"edit-form_name-error\" className=\"popup__input-error\" />\n      </label>\n      <label className=\"popup__form-label\">\n        <input\n          id=\"edit-form_about\"\n          name=\"edit-form_about\"\n          type=\"text\"\n          required\n          minLength={2}\n          maxLength={200}\n          className=\"popup__input-text edit-popup__input-text_type_job\"\n          value={about}\n          onChange={(evt) => setAbout(evt.target.value)}\n        />\n        <span id=\"edit-form_about-error\" className=\"popup__input-error\" />\n      </label>\n      <button type=\"submit\" className=\"popup__submit-button\">\n        Сохранить\n      </button>\n    </form>\n  );\n}\n\nexport default FormEditProfile;\n","import React from \"react\";\nimport api from \"../utils/Api\";\n\nfunction FormAddPlace({cards, setCards, onClose}) {\n  const [newName, setNewName] = React.useState(\"\");\n  const [newSrc, setNewSrc] = React.useState(\"\");\n\n  const handleSubmit = (evt) =>{\n    evt.preventDefault();\n    api.addNewCard(newName, newSrc)\n      .then( (newCard)=>{\n        setCards([newCard, ...cards]);\n        onClose();\n      });\n  }\n\n  return (\n    <form className=\"popup__form\" autoComplete=\"off\" onSubmit={handleSubmit}>\n      <label className=\"popup__form-label\">\n        <input\n          id=\"add-form_name\"\n          name=\"add-form_name\"\n          type=\"text\"\n          required\n          minLength={1}\n          maxLength={30}\n          placeholder=\"Название\"\n          className=\"popup__input-text add-form__input-text_type_name\"\n          onChange={ (evt) => setNewName(evt.target.value)}\n        />\n        <span id=\"add-form_name-error\" className=\"popup__input-error\" />\n      </label>\n      <label className=\"popup__form-label\">\n        <input\n          id=\"add-form_src\"\n          name=\"add-form_src\"\n          type=\"url\"\n          required\n          placeholder=\"Ссылка на картинку\"\n          className=\"popup__input-text add-form__input-text_type_src\"\n          onChange={ (evt) => setNewSrc(evt.target.value)}\n        />\n        <span id=\"add-form_src-error\" className=\"popup__input-error\" />\n      </label>\n      <button type=\"submit\" className=\"popup__submit-button\">\n        Создать\n      </button>\n    </form>\n  );\n}\n\nexport default FormAddPlace;\n","import React from \"react\";\nimport api from \"../utils/Api\";\n\nfunction FormEditAvatar({ setAvatar, onClose }) {\n  const [newAvatar, setNewAvatar] = React.useState(\"\");\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    console.log(api);\n    api\n      .updateUserAvatar(newAvatar)\n      .then((data) => {\n        setAvatar(data.avatar);\n        onClose();\n      })\n      .catch(() => {\n        console.log(\"ERROR\");\n      });\n  };\n\n  return (\n    <form className=\"popup__form\" autoComplete=\"off\" onSubmit={handleSubmit}>\n      <label className=\"popup__form-label\">\n        <input\n          id=\"avatar-form_src\"\n          name=\"avatar-form_src\"\n          type=\"url\"\n          required\n          placeholder=\"Ссылка на аватар\"\n          className=\"popup__input-text avatar-form__input-text_type_src\"\n          value={newAvatar}\n          onChange={(evt) => setNewAvatar(evt.target.value)}\n        />\n        <span id=\"avatar-form_src-error\" className=\"popup__input-error\" />\n      </label>\n      <button type=\"submit\" className=\"popup__submit-button\">\n        Сохранить\n      </button>\n    </form>\n  );\n}\n\nexport default FormEditAvatar;\n","import React, { useState, useEffect } from \"react\";\nimport Profile from \"./Profile\";\nimport Card from \"./Card\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport PopupWithImage from \"./PopupWithImage\";\n\nimport FormEditProfile from \"./FormEditProfile\";\nimport FormAddPlace from \"./FormAddPlace\";\nimport FormEditAvatar from \"./FormEditAvatar\";\n\nimport api from \"../utils/Api\";\n\nfunction Main() {\n  const [isEditProfileOpen, setEditProfileOpen] = useState(false);\n  const [isAddPlaceOpen, setAddPlaceOpen] = useState(false);\n  const [isEditAvatarOpen, setEditAvatarOpen] = useState(false);\n  const [isImageOpen, setImageOpen] = useState(false);\n\n  const [profile, setProfile] = useState({\n    name: \"\",\n    about: \"\",\n  });\n  const [avatar, setAvatar] = useState();\n\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({ src: \"\", subtitle: \"\" });\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCards()])\n      .then((data) => {\n        const [userInfo, cards] = data;\n        setProfile({ name: userInfo.name, about: userInfo.about });\n        setAvatar(userInfo.avatar);\n        setCards(cards);\n      })\n      .catch(() => {\n        console.log(\"ERROR\");\n      });\n  }, []);\n\n  const handleKeyPress = (event) => {\n    if (event.key === \"Escape\") {\n      closeAllPopups();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyPress);\n  }, [isEditProfileOpen, isAddPlaceOpen, isEditAvatarOpen, isImageOpen]);\n\n  const closeAllPopups = () => {\n    setEditProfileOpen(false);\n    setAddPlaceOpen(false);\n    setEditAvatarOpen(false);\n    setImageOpen(false);\n\n    document.removeEventListener(\"keydown\", handleKeyPress);\n  };\n\n  const handlerCardImageClick = (evt) => {\n    setSelectedCard({\n      src: evt.target.src,\n      subtitle: evt.target.parentNode.querySelector(\".element__title\")\n        .textContent,\n    });\n    setImageOpen(true);\n  };\n\n  return (\n    <main onKeyDown={handleKeyPress}>\n      <Profile\n        profile={profile}\n        avatar={avatar}\n        openEditProfile={setEditProfileOpen}\n        openAddPlace={setAddPlaceOpen}\n        openEditAvatar={setEditAvatarOpen}\n      />\n      <section className=\"elements content-section\">\n        <ul className=\"elements__img-grid\">\n          {cards.map(({ _id, ...item }) => (\n            <Card key={_id} onClick={handlerCardImageClick} {...item} />\n          ))}\n        </ul>\n      </section>\n\n      <PopupWithImage\n        isOpen={isImageOpen}\n        {...selectedCard}\n        onClose={closeAllPopups}\n      />\n\n      <PopupWithForm\n        isOpen={isEditProfileOpen}\n        title=\"Редактировать профиль\"\n        name=\"edit\"\n        childForm={\n          <FormEditProfile\n            profile={profile}\n            setProfile={setProfile}\n            onClose={closeAllPopups}\n          />\n        }\n        onClose={closeAllPopups}\n      />\n\n      <PopupWithForm\n        isOpen={isAddPlaceOpen}\n        title=\"Новое место\"\n        name=\"add\"\n        childForm={\n          <FormAddPlace\n            cards={cards}\n            setCards={setCards}\n            addNewPlace={setProfile}\n            onClose={closeAllPopups}\n          />\n        }\n        onClose={closeAllPopups}\n      />\n\n      <PopupWithForm\n        isOpen={isEditAvatarOpen}\n        title=\"Обновить аватар\"\n        name=\"avatar\"\n        childForm={\n          <FormEditAvatar setAvatar={setAvatar} onClose={closeAllPopups} />\n        }\n        onClose={closeAllPopups}\n      />\n    </main>\n  );\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer content-section\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\n\nimport \"../index.css\";\n\nfunction App() {\n  return (\n    <div className=\"content\">\n      <Header />\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/mesto-logo.855a8c98.svg\";"],"sourceRoot":""}