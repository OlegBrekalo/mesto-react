{"version":3,"sources":["components/Header.js","components/Profile.js","components/Card.js","utils/constants.js","components/PopupWithForm.js","components/PopupWithImage.js","utils/api.js","components/FormEditProfile.js","components/FormAddPlace.js","components/FormEditAvatar.js","components/Main.js","components/Footer.js","components/App.js","index.js","images/mesto-logo.svg"],"names":["Header","className","src","logo","alt","Profile","profile","avatar","openEditProfile","openAddPlace","openEditAvatar","onClick","name","type","about","Card","link","likes","handleClick","call","onError","evt","target","title","length","PopupWithForm","isOpen","childForm","onClose","handleClickOutside","popupStyle","PopupWithImage","subtitle","api","url","token","this","_url","_token","res","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_getResponseData","newName","newAbout","body","JSON","stringify","newAvatar","cardName","cardLink","cardID","FormEditProfile","setProfile","React","useState","setName","setAbout","useEffect","autoComplete","onSubmit","preventDefault","updateUserInfo","userInfo","catch","console","log","id","required","minLength","maxLength","value","onChange","FormAddPlace","cards","setCards","setNewName","newSrc","setNewSrc","addNewCard","newCard","placeholder","FormEditAvatar","setAvatar","setNewAvatar","updateUserAvatar","data","Main","isEditProfileOpen","setEditProfileOpen","isAddPlaceOpen","setAddPlaceOpen","isEditAvatarOpen","setEditAvatarOpen","selectedCard","setSelectedCard","all","getUserInfo","getCards","handleKeyPress","event","key","closeAllPopups","document","addEventListener","removeEventListener","handleClosePopupByClickOutside","currentTarget","onKeyDown","map","_id","item","Footer","App","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.2483ca3d.chunk.js","sourcesContent":["import React from \"react\";\nimport logo from \"../images/mesto-logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header content-section\">\n      <img src={logo} alt=\"Место-Логотип\" className=\"header__logo\"/>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Profile({ profile, avatar, openEditProfile, openAddPlace, openEditAvatar}) {\n  return (\n    <section className=\"profile content-section\">\n      <div className=\"profile__avatar-wrapper\">\n        <img src={avatar} alt=\"Аватар\" className=\"profile__avatar\" onClick={()=> openEditAvatar(true)}/>\n      </div>\n      <div className=\"profile__profile-info\">\n        <h2 className=\"profile__name\">{profile.name}</h2>\n        <button\n          type=\"button\"\n          className=\"profile__edit-button\"\n          onClick={() => openEditProfile(true)}\n        />\n        <p className=\"profile__job\">{profile.about}</p>\n      </div>\n      <button\n        type=\"button\"\n        className=\"profile__add-button\"\n        onClick={() => openAddPlace(true)}\n      />\n    </section>\n  );\n}\n\nexport default Profile;\n","import React from \"react\";\r\nimport {onErrorMockImage} from '../utils/constants';\r\n\r\nfunction Card({ name, link, likes, handleClick }) {\r\n\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button type=\"button\" className=\"element__remove-icon\"></button>\r\n      <img\r\n        src={link}\r\n        alt=\"#\"\r\n        className=\"element__image\"\r\n        onClick={() => {handleClick.call(this, link, name)}}\r\n        onError={(evt) => {\r\n          evt.target.src = onErrorMockImage;\r\n        }}\r\n      />\r\n      <div className=\"element__footer\">\r\n        <h2 className=\"element__title\" title={name}>\r\n          {name}\r\n        </h2>\r\n        <div className=\"element__like-block\">\r\n          <button type=\"button\" className=\"element__like-icon\"></button>\r\n          <p className=\"element__like-couter\">{likes?likes.length:0}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export const onErrorMockImage = \"https://images.unsplash.com/photo-1458419948946-19fb2cc296af?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80\";\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  title,\r\n  name,\r\n  childForm,\r\n  onClose,\r\n  handleClickOutside,\r\n}) {\r\n  let popupStyle = `popup popup-${name}`;\r\n  if (isOpen) {\r\n    popupStyle += \" popup_opened\";\r\n  }\r\n\r\n  return (\r\n    <div className={popupStyle} onClick={handleClickOutside}>\r\n      <div className=\"popup__container popup__container_type_form\">\r\n        <button type=\"button\" className=\"popup__close-icon\" onClick={onClose} />\r\n        <p className=\"popup__title\">{title}</p>\r\n        {childForm}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithImage({\r\n  isOpen,\r\n  src,\r\n  subtitle,\r\n  onClose,\r\n  handleClickOutside,\r\n}) {\r\n  let popupStyle = `popup`;\r\n  if (isOpen) {\r\n    popupStyle += \" popup_opened\";\r\n  }\r\n\r\n  return (\r\n    <div className={popupStyle} onClick={handleClickOutside}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img src={src} alt=\"#\" className=\"popup__image\" />\r\n        <p className=\"popup__img-subtitle\">{subtitle}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithImage;\r\n","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._token = token;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(this._url + \"users/me\", {\n      method: \"GET\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateUserInfo(newName, newAbout) {\n    return fetch(this._url + \"users/me\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: newName,\n        about: newAbout,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  updateUserAvatar(newAvatar) {\n    return fetch(this._url + \"users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: newAvatar,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  getCards() {\n    return fetch(this._url + \"cards\", {\n      method: \"GET\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  addNewCard(cardName, cardLink) {\n    return fetch(this._url + \"cards\", {\n      method: \"POST\",\n      headers: {\n        authorization: this._token,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: cardName,\n        link: cardLink,\n      }),\n    }).then((res) => this._getResponseData(res));\n  }\n\n  deleteCard(cardID) {\n    return fetch(this._url + \"cards/\" + cardID, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  putLike(cardID) {\n    return fetch(this._url + \"cards/likes/\" + cardID, {\n      method: \"PUT\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n\n  removeLike(cardID) {\n    return fetch(this._url + \"cards/likes/\" + cardID, {\n      method: \"DELETE\",\n      headers: {\n        authorization: this._token,\n      },\n    }).then((res) => this._getResponseData(res));\n  }\n};\n\nconst api = new Api (\n  \"https://mesto.nomoreparties.co/v1/cohort-15/\",\n  \"00e3d586-abb9-483a-af25-8c5b37844ed8\"\n);\n\nexport default api;\n","import React, { useEffect } from \"react\";\r\nimport api from \"../utils/api\";\r\n\r\nfunction FormEditProfile({ profile, setProfile, onClose }) {\r\n  const [name, setName] = React.useState('');\r\n  const [about, setAbout] = React.useState('');\r\n\r\n  useEffect(() => {\r\n    setName(profile.name);\r\n    setAbout(profile.about);\r\n  }, [profile]);\r\n\r\n  const handleSubmit = (evt) =>{\r\n    evt.preventDefault();\r\n    api\r\n      .updateUserInfo(name, about)\r\n      .then((userInfo) => {\r\n        setProfile({ name: userInfo.name, about: userInfo.about });\r\n        onClose();\r\n      })\r\n      .catch(() => {\r\n        console.log(\"ERROR\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form className=\"popup__form\" autoComplete=\"off\" onSubmit={handleSubmit}>\r\n      <label className=\"popup__form-label\">\r\n        <input\r\n          id=\"edit-form_name\"\r\n          name=\"edit-form_name\"\r\n          type=\"text\"\r\n          required\r\n          minLength={2}\r\n          maxLength={40}\r\n          className=\"popup__input-text edit-popup__input-text_type_name\"\r\n          value={name}\r\n          onChange={(evt) => setName(evt.target.value)}\r\n        />\r\n        <span id=\"edit-form_name-error\" className=\"popup__input-error\" />\r\n      </label>\r\n      <label className=\"popup__form-label\">\r\n        <input\r\n          id=\"edit-form_about\"\r\n          name=\"edit-form_about\"\r\n          type=\"text\"\r\n          required\r\n          minLength={2}\r\n          maxLength={200}\r\n          className=\"popup__input-text edit-popup__input-text_type_job\"\r\n          value={about}\r\n          onChange={(evt) => setAbout(evt.target.value)}\r\n        />\r\n        <span id=\"edit-form_about-error\" className=\"popup__input-error\" />\r\n      </label>\r\n      <button type=\"submit\" className=\"popup__submit-button\">\r\n        Сохранить\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default FormEditProfile;\r\n","import React from \"react\";\r\nimport api from \"../utils/api\";\r\n\r\nfunction FormAddPlace({cards, setCards, onClose}) {\r\n  const [newName, setNewName] = React.useState(\"\");\r\n  const [newSrc, setNewSrc] = React.useState(\"\");\r\n\r\n  const handleSubmit = (evt) =>{\r\n    evt.preventDefault();\r\n    api.addNewCard(newName, newSrc)\r\n      .then( (newCard)=>{\r\n        setCards([newCard, ...cards]);\r\n        onClose();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <form className=\"popup__form\" autoComplete=\"off\" onSubmit={handleSubmit}>\r\n      <label className=\"popup__form-label\">\r\n        <input\r\n          id=\"add-form_name\"\r\n          name=\"add-form_name\"\r\n          type=\"text\"\r\n          required\r\n          minLength={1}\r\n          maxLength={30}\r\n          placeholder=\"Название\"\r\n          className=\"popup__input-text add-form__input-text_type_name\"\r\n          onChange={ (evt) => setNewName(evt.target.value)}\r\n        />\r\n        <span id=\"add-form_name-error\" className=\"popup__input-error\" />\r\n      </label>\r\n      <label className=\"popup__form-label\">\r\n        <input\r\n          id=\"add-form_src\"\r\n          name=\"add-form_src\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          className=\"popup__input-text add-form__input-text_type_src\"\r\n          onChange={ (evt) => setNewSrc(evt.target.value)}\r\n        />\r\n        <span id=\"add-form_src-error\" className=\"popup__input-error\" />\r\n      </label>\r\n      <button type=\"submit\" className=\"popup__submit-button\">\r\n        Создать\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default FormAddPlace;\r\n","import React from \"react\";\r\nimport api from \"../utils/api\";\r\n\r\nfunction FormEditAvatar({ setAvatar, onClose }) {\r\n  const [newAvatar, setNewAvatar] = React.useState(\"\");\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    console.log(api);\r\n    api\r\n      .updateUserAvatar(newAvatar)\r\n      .then((data) => {\r\n        setAvatar(data.avatar);\r\n        onClose();\r\n      })\r\n      .catch(() => {\r\n        console.log(\"ERROR\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <form className=\"popup__form\" autoComplete=\"off\" onSubmit={handleSubmit}>\r\n      <label className=\"popup__form-label\">\r\n        <input\r\n          id=\"avatar-form_src\"\r\n          name=\"avatar-form_src\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на аватар\"\r\n          className=\"popup__input-text avatar-form__input-text_type_src\"\r\n          value={newAvatar}\r\n          onChange={(evt) => setNewAvatar(evt.target.value)}\r\n        />\r\n        <span id=\"avatar-form_src-error\" className=\"popup__input-error\" />\r\n      </label>\r\n      <button type=\"submit\" className=\"popup__submit-button\">\r\n        Сохранить\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default FormEditAvatar;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport Card from \"./Card\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport PopupWithImage from \"./PopupWithImage\";\r\n\r\nimport FormEditProfile from \"./FormEditProfile\";\r\nimport FormAddPlace from \"./FormAddPlace\";\r\nimport FormEditAvatar from \"./FormEditAvatar\";\r\n\r\nimport api from \"../utils/api\";\r\n\r\nfunction Main({\r\n  isEditProfileOpen,\r\n  setEditProfileOpen,\r\n  isAddPlaceOpen,\r\n  setAddPlaceOpen,\r\n  isEditAvatarOpen,\r\n  setEditAvatarOpen,\r\n  selectedCard,\r\n  setSelectedCard,\r\n}) {\r\n  const [profile, setProfile] = useState({\r\n    name: \"\",\r\n    about: \"\",\r\n  });\r\n  const [avatar, setAvatar] = useState();\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then((data) => {\r\n        const [userInfo, cards] = data;\r\n        setProfile({ name: userInfo.name, about: userInfo.about });\r\n        setAvatar(userInfo.avatar);\r\n        setCards(cards);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"ERROR\");\r\n      });\r\n  }, []);\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === \"Escape\") {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyPress);\r\n  }, [isEditProfileOpen, isAddPlaceOpen, isEditAvatarOpen, selectedCard]);\r\n\r\n  const closeAllPopups = () => {\r\n    setEditProfileOpen(false);\r\n    setAddPlaceOpen(false);\r\n    setEditAvatarOpen(false);\r\n\r\n    setSelectedCard(null);\r\n\r\n    document.removeEventListener(\"keydown\", handleKeyPress);\r\n  };\r\n\r\n  const handleClosePopupByClickOutside = (evt) => {\r\n    if (evt.currentTarget === evt.target) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  const handleClick = (link, name) => {\r\n    setSelectedCard({\r\n      src: link,\r\n      subtitle: name,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <main onKeyDown={handleKeyPress}>\r\n      <Profile\r\n        profile={profile}\r\n        avatar={avatar}\r\n        openEditProfile={setEditProfileOpen}\r\n        openAddPlace={setAddPlaceOpen}\r\n        openEditAvatar={setEditAvatarOpen}\r\n      />\r\n      <section className=\"elements content-section\">\r\n        <ul className=\"elements__img-grid\">\r\n          {cards.map(({ _id, ...item }) => (\r\n            <Card key={_id} {...item} handleClick={handleClick} />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      <PopupWithImage\r\n        isOpen={!!selectedCard}\r\n        {...selectedCard}\r\n        onClose={closeAllPopups}\r\n        handleClickOutside={handleClosePopupByClickOutside}\r\n      />\r\n\r\n      <PopupWithForm\r\n        isOpen={isEditProfileOpen}\r\n        title=\"Редактировать профиль\"\r\n        name=\"edit\"\r\n        childForm={\r\n          <FormEditProfile\r\n            profile={profile}\r\n            setProfile={setProfile}\r\n            onClose={closeAllPopups}\r\n          />\r\n        }\r\n        onClose={closeAllPopups}\r\n        handleClickOutside={handleClosePopupByClickOutside}\r\n      />\r\n\r\n      <PopupWithForm\r\n        isOpen={isAddPlaceOpen}\r\n        title=\"Новое место\"\r\n        name=\"add\"\r\n        childForm={\r\n          <FormAddPlace\r\n            cards={cards}\r\n            setCards={setCards}\r\n            onClose={closeAllPopups}\r\n          />\r\n        }\r\n        onClose={closeAllPopups}\r\n        handleClickOutside={handleClosePopupByClickOutside}\r\n      />\r\n\r\n      <PopupWithForm\r\n        isOpen={isEditAvatarOpen}\r\n        title=\"Обновить аватар\"\r\n        name=\"avatar\"\r\n        childForm={\r\n          <FormEditAvatar setAvatar={setAvatar} onClose={closeAllPopups} />\r\n        }\r\n        onClose={closeAllPopups}\r\n        handleClickOutside={handleClosePopupByClickOutside}\r\n      />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer content-section\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\n\nimport \"../index.css\";\n\nfunction App() {\n  const [isEditProfileOpen, setEditProfileOpen] = useState(false);\n  const [isAddPlaceOpen, setAddPlaceOpen] = useState(false);\n  const [isEditAvatarOpen, setEditAvatarOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  return (\n    <div className=\"content\">\n      <Header />\n      <Main\n        isEditProfileOpen={isEditProfileOpen}\n        setEditProfileOpen={setEditProfileOpen}\n        isAddPlaceOpen={isAddPlaceOpen}\n        setAddPlaceOpen={setAddPlaceOpen}\n        isEditAvatarOpen={isEditAvatarOpen}\n        setEditAvatarOpen={setEditAvatarOpen}\n        selectedCard={selectedCard}\n        setSelectedCard={setSelectedCard}\n      />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/mesto-logo.855a8c98.svg\";"],"sourceRoot":""}